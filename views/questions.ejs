<!--
	Lambton College
	CSD 3103 - Full Stack JavaScript
	Term project
	Hugo Beltran Escarraga - C0845680
	Juan Luis Casanova Romero - C0851175
-->

<%- include('header') -%>

    <title>Questions</title>
    </head>

    <body class="d-flex flex-column h-100">

        <%- include('navbar') -%>

            <header>
              <div class="container">
                <div class="col d-flex justify-content-center">
                  <h1>Questions database</h1>
                </div>
              </div>
            </header>
        
            <main class="flex-shrink-0">
              <div class="container">

                <div class="col d-flex justify-content-center pt-4 mb-2">
                  
                  <div class="accordion col-md-8">
                    <div class="accordion-item" id="quiz">
                      <div class="accordion-header" id="accordion-heading">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse"
                          data-bs-target="#accordion-rules" aria-expanded="true" aria-controls="accordion-rules">
                          Category: Rules
                        </button>
                      </div>

                      <div id="accordion-rules" class="accordion-collapse collapse" aria-labelledby="accordion-heading">
                        <div class="accordion-body">

                          <div id="rules-questions">
                            <ul class="list-group list-group-flush">
                              <!-- QUESTIONS RULES -->
                              <% for (const rule of rules) {%>
                                <li class="list-group-item">
                                  <div class="answer-group d-flex pt-2 pb-2">
                                    <div class="col-md-8 mb-2">
                                      <p id="rules-<%= rule.number %>">
                                        <%= rule.number %>. <%= rule.text %>
                                      </p>
                                    </div>
                                    <div class="col-md-4 mb-2">
                                      <input class="btn btn-danger btn-sm me-4" type="button" value="Delete" />
                                      <input class="btn btn-primary btn-sm" type="button" value="View/Edit" />
                                    </div>
                                  </div>
                                </li>
                                <%} %>

                            </ul>
                          </div>

                        </div>
                      </div>

                    </div>
                    <div class="accordion-item" id="quiz">
                      <div class="accordion-header" id="accordion-heading">
                        <button class="accordion-button collapsed fw-bold" type="button" data-bs-toggle="collapse"
                          data-bs-target="#accordion-signs" aria-expanded="true" aria-controls="accordion-signs">
                          Category: Signs
                        </button>
                      </div>

                      <div id="accordion-signs" class="accordion-collapse collapse show" aria-labelledby="accordion-heading">
                        <div class="accordion-body">

                          <div id="signs-questions">
                            <ul class="list-group list-group-flush">
                              <!-- QUESTIONS SIGNS -->
                              <% for (const sign of signs) {%>
                                <li class="list-group-item">
                                  <div class="answer-group d-flex pt-2 pb-2">
                                    <div class="col-md-5 mb-2">
                                      <p id="signs-<%= sign.number %>">
                                        <%= sign.number %>. <%= sign.text %>
                                      </p>
                                    </div>
                                    <div class="col-md-3 mb-2">
                                      <image style="width: 100px" src="<%= sign.reference %>"></image>
                                    </div>
                                    <div class="col-md-4 mb-2">                                      
                                      <button type="button" class="btn btn-danger btn-sm me-4" data-bs-toggle="modal" data-bs-target="#deleteModal" id="<%= sign.number %>">
                                        Delete
                                      </button>
                                      <input class="btn btn-primary btn-sm" type="button" value="View/Edit" />
                                    </div>
                                  </div>
                                </li>
                                <%} %>

                            </ul>
                          </div>

                        </div>
                      </div>

                    </div>
                  </div>                
				  
                </div>

                <!-- Delete Question Modal -->
                <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title fs-5" id="deleteModalLabel">Delete question</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body">
                        Are you sure you want to permanently delete this question?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-success">Yes</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                      </div>
                    </div>
                  </div>
                </div>

              </div>

            </main>

        <%- include('footer') -%>